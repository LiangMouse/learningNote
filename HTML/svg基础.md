# SVG 基础

SVG（Scalable Vector Graphics，可缩放矢量图形）是一种用于描述二维图形的 XML 标记语言。SVG 是矢量图形，缩放时不会失真，适合用于图标、图表等需要高保真缩放的场景。

## 特点

- **矢量图形**：基于数学公式描述，缩放不失真
- **体积小**：对于简单图形，SVG 文件体积通常很小
- **可交互**：可结合 JavaScript 和 CSS 实现动画和交互效果
- **样式可控**：可通过 CSS 控制颜色、大小等样式（使用 `fill` 而不是 `background-color`）
- **可直接嵌入 HTML**：无需额外插件，现代浏览器原生支持

## 使用方式

SVG 有多种使用方式，各有优缺点：

### 1. 内联 SVG（Inline SVG）

直接将 SVG 代码写在 HTML 中。

```html
<svg width="100" height="100">
  <circle cx="50" cy="50" r="40" fill="blue" />
</svg>
```

**优点：**

- 可用 CSS 控制颜色（`fill`）
- JavaScript 交互能力最强
- 可访问 DOM 节点

**缺点：**

- 增加 HTML 体积
- 无法被浏览器单独缓存

### 2. `<img>` 标签引入

```html
<img src="icon.svg" alt="图标" />
```

**优点：**

- 浏览器可缓存
- 使用简单

**缺点：**

- 无法通过 CSS 修改内部样式（如 hover 变色）
- 无法使用 JavaScript 操作内部元素

### 3. CSS 背景图

```css
.icon {
  background-image: url(icon.svg);
  background-size: contain;
}
```

**适用场景：** 装饰性图标，不需要交互

### 4. SVG Sprites（雪碧图）

使用 `<symbol>` 和 `<use>` 标签，将多个小图标整合成一个 SVG 文件。

```html
<svg>
  <defs>
    <symbol id="icon-home" viewBox="0 0 24 24">
      <!-- 图标路径 -->
    </symbol>
  </defs>
</svg>

<!-- 使用 -->
<svg>
  <use href="#icon-home" />
</svg>
```

**优点：**

- 减少 HTTP 请求
- 可复用图标定义
- 支持 CSS 样式控制

**适用场景：** 多个小图标场景

## 常用标签

| **SVG 标签/元素** | **作用**                                     |
| ----------------- | -------------------------------------------- |
| **`<svg>`**       | 根元素，定义一个 SVG 视口（画布）            |
| **`<defs>`**      | 定义可重用的元素，本身不渲染，如图案、渐变等 |
| **`<pattern>`**   | 定义一个重复的图形模板                       |
| **`<path>`**      | 定义通用形状，通过绘制命令（`d` 属性）描述   |
| **`<rect>`**      | 定义矩形                                     |
| **`<circle>`**    | 定义圆形                                     |
| **`<ellipse>`**   | 定义椭圆                                     |
| **`<line>`**      | 定义直线                                     |
| **`<polyline>`**  | 定义折线                                     |
| **`<polygon>`**   | 定义多边形                                   |
| **`<text>`**      | 定义文本                                     |
| **`<g>`**         | 分组元素，用于组织多个元素                   |
| **`<use>`**       | 引用已定义的元素（如 `<symbol>`）            |

## 获取 SVG 资源

在实际开发中，通常不需要手动编写 SVG 代码，而是从以下渠道获取：

- **[SVGRepo](https://www.svgrepo.com/)**：大量免费 SVG 图标库
- **[图片转 SVG](https://picsvg.com/)**：将位图转换为 SVG 格式
- **设计工具导出**：Figma、Sketch、Illustrator 等设计工具可直接导出 SVG

## 应用场景

- **网页图标**：Logo、按钮图标、装饰性图标
- **数据可视化**：图表、地图
- **简单图形**：几何图形、装饰元素
- **背景图案**：网格、纹理等重复图案
- **动画效果**：结合 CSS/JS 实现复杂动画

## SVG vs Canvas

| **特性**     | **SVG**                                   | **Canvas**                           |
| ------------ | ----------------------------------------- | ------------------------------------ |
| **图形类型** | 矢量图形                                  | 位图                                 |
| **DOM 结构** | 基于 DOM 节点，每个元素都是 DOM 节点      | 画布绘制，无 DOM 节点                |
| **缩放**     | 无损缩放，适合高保真场景                  | 缩放会失真                           |
| **交互**     | 适合低频交互，可监听单个元素事件          | 适合高频渲染，需手动计算交互区域     |
| **性能**     | 节点多了会卡（DOM 操作开销）              | 适合大量数据渲染（游戏、粒子效果）   |
| **适用场景** | 图标、地图、简单图形、需要 CSS 控制的场景 | 游戏、数据可视化、图像处理、实时渲染 |
| **样式控制** | 支持 CSS 样式                             | 需通过代码控制                       |

**选择建议：**

- 需要高保真缩放、CSS 控制、简单交互 → 选择 **SVG**
- 需要高频渲染、大量数据、复杂动画 → 选择 **Canvas**
