# 从输入域名到页面显示发生了什么

从输入域名到展示内容的过程涉及多个步骤，主要包括以下几个阶段：
1. **生成HTTP消息**
	浏览器首先解析请求的URL，获取到请求的服务器和对应的文件名，根据这些生成HTTP消息
2. **DNS 解析（Domain Name System）**
   - 用户在浏览器中输入一个域名（如 `www.baidu.com`），浏览器首先会查询域名的对应 IP 地址。
   - 首先查找缓存，浏览器本地缓存，操作系统缓存，hosts文件夹缓存
   - 再使用本地DNS服务器，通过根->顶级域名服务器->权威域名服务器->。。。->找到
3. **建立 TCP 连接**
   - 获得IP后，浏览器通过调用Socket库委托操作系统的协议栈来进行HTTP传输工作，而HTTP协议基于TCP进行传输
   - 使用获取到的 IP 地址，浏览器与目标服务器建立 TCP 连接。通常使用的是 HTTP 或 HTTPS 协议。
   - 如果是 HTTPS，还会进行 SSL/TLS 握手，确保安全的加密通信。

4. **发送 HTTP 请求**

   - 浏览器发送 HTTP 请求（如 GET 请求）到目标服务器，告诉服务器需要访问的资源（如网页、图片等）。

5. **服务器处理请求**

   - 服务器接收到请求后，处理该请求。如果是静态资源（如 HTML、CSS、JS 文件），则直接返回。如果是动态资源，服务器会根据请求的内容生成相应的页面（可能涉及数据库查询、API 请求等）。

6. **返回 HTTP 响应**

   - 服务器将响应内容（HTML、CSS、JS 等）返回给浏览器。

7. **浏览器解析内容**

   - 浏览器接收到服务器的响应后，开始解析 HTML，构建 DOM（文档对象模型）。
   - 同时，CSS 样式会与 HTML 元素进行匹配，生成 CSSOM（CSS 对象模型）。
   - 浏览器还会解析和执行 JS 代码（如果有的话）。

8. **渲染页面**

   - 浏览器将 DOM 和 CSSOM 合并为**渲染树**，计算元素的布局和样式，最终绘制出页面的内容。

9. **资源加载**

   - 页面渲染过程中，浏览器会继续加载其他资源（如图片、视频、字体文件等）并更新页面显示。

10. **交互处理**
   - 用户可以与页面进行交互（点击、滚动、输入等），浏览器根据用户的操作重新计算页面布局或发起新的网络请求。

这个过程可能因为不同的配置（如缓存、CDN、代理等）有所不同，但大致上是以上步骤。
