# 浏览器上的进程

浏览器首先是多进程的，其中每一个`tab`就是一个独立进程

#### 浏览器包含的进程

- 主进程
  - 协调控制其他子进程（创建、销毁）
  - 浏览器界面显示，用户交互，前进、后退、收藏
  - 将渲染进程得到的内存中的 Bitmap，绘制到用户界面上
  - 处理不可见操作，网络请求，文件访问等
- 第三方插件进程

  每种类型的插件对应一个进程，仅当使用该插件时才创建

- GPU 进程

  用于 3D 绘制等

- 渲染进程，就是我们说的浏览器内核

负责页面渲染，脚本执行，事件处理等，每个 tab 页一个渲染进程

#### 渲染进程中的线程

- GUI 渲染线程

负责渲染页面，布局和绘制，页面需要[重绘和回流](../CSS/重绘和回流.md)时，该线程就会执行

- JS 引擎线程

负责处理解析和执行 javascript 脚本程序，只有一个 JS 引擎线程（单线程），与 GUI 渲染线程互斥，防止渲染结果不可预期

- 事件触发线程

用来控制事件循环（鼠标点击、setTimeout、ajax 等）
当事件满足触发条件时，将事件放入到 JS 引擎所在的执行队列中

- 定时触发器线程

setInterval 与 setTimeout 所在的线程
定时任务并不是由 JS 引擎计时的，是由定时触发线程来计时的
计时完毕后，通知事件触发线程

- 异步 http 请求线程

浏览器有一个单独的线程用于处理 AJAX 请求
当请求完成时，若有回调函数，通知事件触发线程

---

`JS`由于诞生开始是为浏览器`dom`而生，多线程不加锁情况容易造成结果的不可预期，因此选型为单线程语言，这同时也是内核进程与 GUI 进程互斥的原因
